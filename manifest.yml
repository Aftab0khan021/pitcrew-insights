modules:
  jira:issuePanel:
    - key: pitcrew-insights-panel
      resource: main
      resolver:
        function: resolver
      render: native
      title: PitCrew Insights
      icon: https://developer.atlassian.com/platform/forge/images/icons/issue-panel-icon.svg

  rovo:agent:
    - key: pitcrew-race-engineer
      name: Race Engineer
      description: Analyzes Jira issues to identify bottlenecks and suggest pit strategies.
      prompt: >
        You are an expert Race Engineer for software teams. 
        Your job is to analyze Jira issues and identify why they are stuck.
        Always use racing metaphors (pit stops, yellow flags, fuel load, track position).
        When asked about an issue, use the 'fetchIssueTelemetry' action to get the data first.
      actions:
        - fetchIssueTelemetry

  function:
    - key: resolver
      handler: src/resolvers/index.handler
    - key: agent-handler
      handler: src/resolvers/agent.handler

resources:
  - key: main
    path: src/frontend/index.jsx

permissions:
  scopes:
    - read:jira-work

app:
  id: ari:cloud:ecosystem::app/fd6ef2ab-c7c3-4174-889d-b7a937a10380
  runtime:
    name: nodejs22.x